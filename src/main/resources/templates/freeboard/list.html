<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="~{/layout/layout1}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
	.oddStyle {background-color: lightblue;}
	.evenStyle {background-color: lightgray;}
	.firstStyle { color: black;}
	.lastStyle { color: black;}
</style>
</head>
<body>
	<div style="display: grid; justify-content: center;">
		<!-- <p th:text="${boardList}"></p> -->
		<div class="panel panel-default" layout:fragment="content1">
		
		<h1 style="text-align: center;">FreeBoard List ~~</h1>
		<table border="1" style="text-align: center;"
		 th:with="target1='user4', target2='user9'">
			<tr>
				<td>count,idx</td>
				<td>count,idx</td>
				<td>first, last</td>
				<td>even, odd</td>
				<td>size</td>
				<td>ë²ˆí˜¸</td>
				<td>ì œëª©</td>
				<td>ì‘ì„±ì</td>
				<td>target..4ì°¾ê¸°</td>
				<td>target..9ì°¾ê¸°</td>
				<td>ì‚­ì œë²„íŠ¼ğŸ˜ </td>
				<td>ë‚´ìš©</td>
				<td>ì‘ì„±ì¼</td>
				<td>ìˆ˜ì •ì¼</td>
			</tr>
			<tr th:each="board, rowStatus: ${boardList}"
				th:class="${rowStatus.even}?'evenStyle':'oddStyle'"
				th:classappend = "${rowStatus.first} or ${rowStatus.last} ? 'firstStyle': 'lastStyle'"
			>
				<td th:text="${rowStatus.index + '--'+ rowStatus.count}"></td>
				<td th:text="|${rowStatus.index} -- ${rowStatus.count}|"></td>
				<td th:text="|${rowStatus.first} -- ${rowStatus.last}|"></td>
				<td th:text="|${rowStatus.even} -- ${rowStatus.odd}|"></td>
				<td th:text="${rowStatus.size}"></td>
				<td>
<!-- ì ˆëŒ€ -->				<a th:href="@{/freeboard/detail(bno=${board.bno})}" th:text="${board.bno}"></a>
	<!-- ìƒëŒ€ -->			<!-- <a th:href="@{detail(bno=${board.bno})}" th:text="${board.bno}"></a> -->
				</td>
				<td th:text="${board.title}">ë²ˆí˜¸</td>
				<td th:text="${board.writer}">ë²ˆí˜¸</td>
				<td th:text="${board.writer == target1 ? 'ì°¾ìŒ(user4)':'ì†ë‹˜'}">ë²ˆí˜¸</td>
				<td th:text="${board.writer == target1 ? 'ì°¾ìŒ(user9)':'ì†ë‹˜ !!'}">ë²ˆí˜¸</td>
				<td >
					<a href="#" th:if="${board.writer == target1}">ì‚­ì œ</a>
					<p th:unless="${board.writer==target1}">view</p>
				</td>
				<td th:text="${board.content}">ë²ˆí˜¸</td>
				<!-- htmlì—ì„œ inlineìœ¼ë¡œ thymeleaf ì‚¬ìš©í•˜ê¸° -->
				<td>[[${board.regDate}]]</td>
				<td>[[${board.updateDate}]]</td>
			</tr>
		</table>
		</div>
		<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

		<th:block layout:fragment="script1">

			<script th:inline="javascript" type="text/javascript">
			// jsì—ì„œ inlineìœ¼ë¡œ thymeleaf ì‚¬ìš©í•˜ê¸°
			var boardList = [[${boardList}]];
			/* 
			@JsonIgnore // jacksonì´ json ë§Œë“¤ë–„ toString ë¬´ì‹œ
			*/
			console.log(boardList[0]);
			$.each(boardList, function(idx, val){
				console.log(val)
			})
		</script>
		</th:block>

	</div>
</body>
<script>
/* 
<tr th:each="board, rowStatus: ${boardList}"> idx ë²ˆí˜¸ ë¶€ì—¬ ê°€ëŠ¥
|${rowStatus.index} -- ${rowStatus.count}| ìˆ˜ì§ë°”  ê°’í‘œí˜„
<td th:text="|${rowStatus.first} -- ${rowStatus.last}|"></td> ì²˜ìŒê³¼ ë§ˆì§€ë§‰
<td th:text="|${rowStatus.even} -- ${rowStatus.odd}|"></td> í™€ ì§
<td th:text="${rowStatus.size}"></td> ì‚¬ì´ì¦ˆ
<tr th:each="board, rowStatus: ${boardList}"
	th:class="${rowStatus.even}?'evenStyle':'oddStyle'"  í´ë˜ìŠ¤ ì§€ì •
>
<td>[[${board.regDate}]]</td> html,jsì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
*/
</script>
</html>

